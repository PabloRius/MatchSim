<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div
    class="container-fluid"
    style="width: 100%; padding: 0 0 0 calc(var(--bs-gutter-x) * 0.5)"
  >
    <a class="title navbar-brand" href="#">InEl Sim</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="header-options navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/simulator">Match Simulator</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/teams">Teams</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/players">Players</a>
        </li>
      </ul>
      <div class="d-flex align-items-center dropdown-container">
        <div
          *ngIf="auth0.isAuthenticated$ | async; else loggedOut"
          class="dropdown"
        >
          <button
            class="btn dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <p *ngIf="auth0.user$ | async as user">
              {{ username }}
            </p>
            <div *ngIf="auth0.user$ | async as user" class="user-pic">
              <img src="{{ picture }}" alt="{{ name }}" />
            </div>
          </button>
          <div class="dropdown-menu">
            <div class="dropdown-item current-account">
              <div class="dropdown-title-sign-out">
                <p>Match Simulator</p>
                <p style="text-align: end" (click)="logoutRedirect()">
                  Sign Out
                </p>
              </div>
              <div
                *ngIf="auth0.user$ | async as user"
                class="dropdown-picture-user-info"
              >
                <div class="picture">
                  <img src="{{ picture }}" alt="{{ name }}" />
                </div>
                <div class="user-info">
                  <h3>{{ name }}</h3>
                  <p>{{ email }}</p>
                  <a routerLink="/view-account">View Account</a>
                </div>
              </div>
            </div>
            <!-- Relog with another account --- Not Implemented --- -->
            <!-- <div
              class="dropdown-item change-account"
              (click)="
                auth0.logout({
                  logoutParams: { returnTo: document.location.origin }
                });
                loginRedirect()
              "
            > 
              <div class="change-account-icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  fill="#333333"
                  class="bi bi-person-add"
                  viewBox="0 0 18 18"
                >
                  <path
                    d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
                  />
                  <path
                    d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"
                  />
                </svg>
              </div>
              <p>Sign in with a different account</p>
            </div>-->
            <div class="dropdown-item dropdown-inmenu">
              <label>Menu</label>
              <div class="my-players my-things" routerLink="/user-players">
                <div class="inmenu-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="rgb(103, 133, 193)"
                    class="bi bi-person-badge"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"
                    />
                    <path
                      d="M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z"
                    />
                  </svg>
                </div>
                <p>My Players</p>
              </div>
              <div class="my-teams my-things" routerLink="/user-teams">
                <div class="inmenu-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="rgb(103, 133, 193)"
                    class="bi bi-people"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
                    />
                  </svg>
                </div>
                <p>My Teams</p>
              </div>
              <div
                class="my-formations my-things"
                routerLink="/user-formations"
              >
                <div class="inmenu-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="rgb(103, 133, 193)"
                    class="bi bi-ui-radios-grid"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M3.5 15a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm9-9a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0 9a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zM16 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zm-9 9a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zm5.5 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zm-9-11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 2a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"
                    />
                  </svg>
                </div>
                <p>My Formations</p>
              </div>
            </div>
          </div>
        </div>
        <ng-template #loggedOut>
          <button
            type="button"
            class="btn btn-primary login-button"
            (click)="loginRedirect()"
          >
            Log in
          </button>
        </ng-template>
      </div>
    </div>
  </div>
</nav>
